{
  "split": {
    "test_last_n_years": 2,
    "test_years": [
      2022,
      2023
    ],
    "trainval_years": [
      2014,
      2015,
      2016,
      2017,
      2018,
      2019,
      2020,
      2021
    ],
    "final_train_years": [
      2014,
      2015,
      2016,
      2017,
      2018,
      2019,
      2020
    ],
    "final_val_years": [
      2021
    ],
    "walkforward_folds": [
      {
        "train": [
          2014,
          2015,
          2016,
          2017,
          2018
        ],
        "val": [
          2019
        ]
      },
      {
        "train": [
          2014,
          2015,
          2016,
          2017,
          2018,
          2019
        ],
        "val": [
          2020
        ]
      },
      {
        "train": [
          2014,
          2015,
          2016,
          2017,
          2018,
          2019,
          2020
        ],
        "val": [
          2021
        ]
      }
    ]
  },
  "tuning": {
    "method": "optuna_tpe_walkforward_cv",
    "model": "logistic_regression",
    "n_trials": 50,
    "optimize_metric": "auc",
    "best_value_mean_cv": 0.6469172130321832,
    "best_params": {
      "random_state": 42,
      "max_iter": 5000,
      "penalty": "elasticnet",
      "C": 0.0010714845538373145,
      "l1_ratio": 0.9225833997090791,
      "solver": "saga"
    }
  },
  "preprocessing": {
    "winsor_p_low": 0.01,
    "winsor_p_high": 0.99,
    "mean_imputation": true,
    "missing_indicators": true,
    "standardize": true,
    "fit_scope": "fit on each split's training data only; applied to train/val/test accordingly; saved model refit on trainval_years"
  },
  "class_imbalance_handling": {
    "xgb_like": true,
    "scale_pos_weight": 0.9906866614048935,
    "implementation": "sample_weight: positives weighted by scale_pos_weight (estimated on trainval_years for saved model; per-fold for CV/OOF)"
  },
  "threshold_selection": {
    "optimized_on": "oof_walkforward_folds (last k folds, respecting N_FOLDS)",
    "criterion": "max_accuracy",
    "best_threshold": 0.49499999999999994,
    "best_score_on_final_val": 0.5730204650166077
  },
  "final_val_metrics_at_threshold": {
    "auc": 0.6464220268676395,
    "ap": 0.6267125279593183,
    "accuracy": 0.6126282557221784,
    "f1": 0.4266355140186916,
    "precision": 0.6718175128771156,
    "recall": 0.312564190345772,
    "tn": 2968,
    "fp": 446,
    "fn": 2008,
    "tp": 913
  },
  "test_metrics_at_val_threshold": {
    "auc": 0.6614242817423541,
    "ap": 0.6400720696064747,
    "accuracy": 0.6017059301380991,
    "f1": 0.43533341011171256,
    "precision": 0.6578489383919248,
    "recall": 0.3253012048192771,
    "tn": 5517,
    "fp": 983,
    "fn": 3920,
    "tp": 1890
  }
}