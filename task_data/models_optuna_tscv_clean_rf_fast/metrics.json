{
  "split": {
    "test_last_n_years": 2,
    "test_years": [
      2022,
      2023
    ],
    "trainval_years": [
      2014,
      2015,
      2016,
      2017,
      2018,
      2019,
      2020,
      2021
    ],
    "final_train_years": [
      2014,
      2015,
      2016,
      2017,
      2018,
      2019,
      2020
    ],
    "final_val_years": [
      2021
    ],
    "walkforward_folds": [
      {
        "train": [
          2014,
          2015,
          2016,
          2017,
          2018
        ],
        "val": [
          2019
        ]
      },
      {
        "train": [
          2014,
          2015,
          2016,
          2017,
          2018,
          2019
        ],
        "val": [
          2020
        ]
      },
      {
        "train": [
          2014,
          2015,
          2016,
          2017,
          2018,
          2019,
          2020
        ],
        "val": [
          2021
        ]
      }
    ]
  },
  "tuning": {
    "method": "optuna_tpe_walkforward_cv",
    "model": "random_forest",
    "n_trials": 25,
    "timeout_seconds": 1800,
    "optimize_metric": "auc",
    "best_value_mean_cv": 0.7217215019932439,
    "best_params": {
      "n_estimators": 285,
      "max_depth": 10,
      "min_samples_split": 39,
      "min_samples_leaf": 6,
      "max_features": 0.4607466203112713
    },
    "rf_n_jobs": 4,
    "early_abandon": {
      "enabled": true,
      "auc_bad_cut": 0.52,
      "ap_bad_cut": 0.05
    },
    "pos_neg_final_train": {
      "pos": 22419,
      "neg": 21690
    }
  },
  "preprocessing": {
    "winsor_p_low": 0.01,
    "winsor_p_high": 0.99,
    "mean_imputation": true,
    "missing_indicators": true,
    "fit_scope": "fit on each split's training data only; applied to train/val/test accordingly"
  },
  "threshold_selection": {
    "optimized_on": "oof_walkforward_folds_last_k",
    "criterion": "max_accuracy",
    "best_threshold": 0.5249999999999999,
    "best_score_on_final_val": 0.6490923441199684
  },
  "final_val_metrics_at_threshold": {
    "auc": 0.7085649500506103,
    "ap": 0.6878209469400627,
    "accuracy": 0.6490923441199684,
    "f1": 0.5893220025863661,
    "precision": 0.6400481540930979,
    "recall": 0.5460458747004451,
    "tn": 2517,
    "fp": 897,
    "fn": 1326,
    "tp": 1595
  },
  "test_metrics_at_val_threshold": {
    "auc": 0.7276506024096385,
    "ap": 0.7074662102682189,
    "accuracy": 0.6565393988627133,
    "f1": 0.6317714683852987,
    "precision": 0.639456981664316,
    "recall": 0.6242685025817556,
    "tn": 4455,
    "fp": 2045,
    "fn": 2183,
    "tp": 3627
  }
}